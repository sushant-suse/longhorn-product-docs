= Important Notes
:revdate: 2025-12-24
:page-revdate: {revdate}
:current-version: {page-component-version}

Please see https://github.com/longhorn/longhorn/releases/tag/v{patch-version}[here] for the full release notes.

== Deprecation

V2 Backing Image is deprecated and will be removed in a future release. Users can use containerized data importer (CDI) to import images into {longhorn-product-name} as an alternative. For more information, see xref:volumes/containerized-data-importer.adoc[{longhorn-product-name} with CDI Imports].

== Behavior Change

=== Cloned Volume Health After Efficient Cloning

With efficient cloning enabled, a newly cloned and detached volume is degraded and has only one replica, with its clone status set to `copy-completed-awaiting-healthy`. To bring the volume to a healthy state, transition the clone status to `completed` and rebuild the remaining replica by either enabling offline replica rebuilding or attaching the volume to trigger replica rebuilding. See https://github.com/longhorn/longhorn/issues/12341[Issue #12341] and https://github.com/longhorn/longhorn/issues/12328[Issue #12328].

== General

=== Kubernetes Version Requirement

Due to the upgrade of the CSI external snapshotter to v8.2.0, you must be running Kubernetes v1.25 or later to upgrade to {longhorn-product-name}  v1.8.0 or a newer version.

=== Upgrade Check Events

When you upgrade with Helm or the Rancher App Marketplace, {longhorn-product-name} performs pre-upgrade checks. If a check fails, the upgrade stops and the reason for the failure is recorded in an event.

For more details, see xref:upgrades/longhorn-components/upgrade-longhorn-manager.adoc[Upgrading Longhorn Manager].

=== Manual Checks Before Upgrade

Automated pre-upgrade checks does not cover all scenarios. A manual check is recommended using `kubectl` or the {longhorn-product-name} UI.

* Ensure all V2 Data Engine volumes are detached and replicas are stopped. The V2 engine does not support live upgrades.
* Avoid upgrading when volumes are Faulted. Unusable replicas may be deleted, causing permanent data loss if no backups exist.
* Avoid upgrading if a failed `BackingImage` exists. For more information, see xref:volumes/backing-images/backing-images.adoc[Backing Image] for details.
* Create a xref:snapshots-backups/system-backups/create-system-backup.adoc[Longhorn System Backup] upgrading is recommended to ensure recoverability.

== Scheduling

=== Replica Scheduling with Balance Algorithm

To improve data distribution and resource utilization, {longhorn-product-name} introduces a *balance algorithm* that schedules replicas evenly across nodes and disks based on calculated balance scores.

For more information, see xref:nodes/scheduling.adoc[Scheduling].

== Monitoring

=== Disk health monitoring

Starting with {longhorn-product-name} v1.11.0, disk health monitoring is available for both the V1 and V2 data engines. {longhorn-product-name} collects disk health data and exposes it through Prometheus metrics and the `Node` custom resources.

. *Key features*:

* Automatic health data collection every 10 minutes.
* Disk health status and detailed attributes exposed as Prometheus metrics.
* Health data available in the `nodes.longhorn.io` custom resources.

[NOTE]
====
* SMART data may not be fully available in virtualized or cloud environments (for example, AWS EBS). This can result in zero values for some attributes.
* Available health attributes vary depending on disk type and hardware.
====

For more information, see: xref:observability/disk-health.adoc[Disk health monitoring].

== V2 Data Engine

=== {longhorn-product-name} System Upgrade

Live upgrades of V2 volumes are not supported. Before you upgrade, make sure all V2 volumes are detached.
